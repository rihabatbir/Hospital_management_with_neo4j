<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Chatbot - Assistance MÃ©dicale</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-green-50 min-h-screen p-6">
  <div class="max-w-2xl mx-auto bg-white rounded shadow p-6">
    <h1 class="text-2xl font-bold text-green-700 mb-4 text-center">ðŸ’¬ Chatbot MÃ©dical</h1>
    <div id="chatbox" class="h-64 overflow-y-auto border p-4 rounded bg-gray-50 mb-4">
      <div class="text-gray-500">ðŸ¤– Bonjour ! Posez-moi votre question mÃ©dicale.</div>
    </div>
    <div class="flex">
      <input id="userInput" type="text" placeholder="Votre question..." class="flex-grow border p-2 rounded-l" />
      <button onclick="sendMessage()" class="bg-green-600 text-white px-4 rounded-r hover:bg-green-700">Envoyer</button>
    </div>
  </div>

  <script>
    const chatbox = document.getElementById('chatbox');

    function appendMessage(sender, message) {
      const div = document.createElement('div');
      div.className = sender === 'user' ? 'text-right mb-2' : 'text-left mb-2 text-green-800';
      div.innerHTML = sender === 'user' ? 'ðŸ™‹ ' + message : 'ðŸ¤– ' + message;
      chatbox.appendChild(div);
      chatbox.scrollTop = chatbox.scrollHeight;
    }

    function sendMessage() {
      const input = document.getElementById('userInput');
      const message = input.value.trim();
      if (!message) return;

      appendMessage('user', message);
      input.value = '';

      // RÃ©ponse simulÃ©e
      fetch('http://localhost:3000/chat', {
  method: 'POST',
  credentials: 'include',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ message })
})
.then(res => res.json())
.then(data => {
  appendMessage('bot', data.reply);
})
.catch(() => {
  appendMessage('bot', "Erreur lors de la rÃ©ponse.");
});

    }
  </script>
</body>
</html>
